{% extends "base.html" %}
{% block content %}

<div class="page-header">
  <h2>âœï¸ Edit User{% if is_self %} (Your Account){% endif %}</h2>
</div>

<div class="card" style="max-width: 600px;">
  <form method="post">
    <div class="form-group">
      <label>Username</label>
      <input type="text" value="{{ user['username'] }}" disabled style="background: #f3f4f6;">
      <small>Username cannot be changed</small>
    </div>
    
    <div class="form-group">
      <label for="full_name">Full Name</label>
      <input type="text" id="full_name" name="full_name" value="{{ user['full_name'] }}" required autofocus>
    </div>
    
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" name="email" value="{{ user['email'] }}" required>
    </div>
    
    <hr style="margin: 25px 0; border: none; border-top: 1px solid var(--gray-200);">
    
    <h4 style="margin-bottom: 10px;">Change Password</h4>
    <p style="color: var(--gray-600); font-size: 13px; margin-bottom: 15px;">Leave blank to keep current password</p>
    
    <div class="form-group">
      <label for="new_password">New Password</label>
      <input type="password" id="new_password" name="new_password" minlength="6">
      <small>At least 6 characters</small>
    </div>
    
    <div style="margin-top: 30px; display: flex; gap: 10px;">
      <button type="submit" class="btn-primary">ğŸ’¾ Save Changes</button>
      <a href="{{ url_for('admin_users') }}" class="btn-secondary">Cancel</a>
    </div>
  </form>
  
  <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #e5e7eb; color: #6b7280; font-size: 12px;">
    <p><strong>Role:</strong> {{ user['role']|upper }}</p>
    <p><strong>Account Created:</strong> {{ user['created_on']|short_date }}</p>
    {% if user['last_login'] %}
    <p><strong>Last Login:</strong> {{ user['last_login']|short_date }}</p>
    {% endif %}
  </div>
</div>

{% endblock %}
